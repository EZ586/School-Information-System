{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ezhan\\\\OneDrive\\\\Desktop\\\\Node Projects\\\\frontendCopy\\\\my-school\\\\src\\\\pages\\\\adminCreate\\\\teacherCreate\\\\TeacherCreate.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport './teacherCreate.css';\nimport FormInput from 'C:/Users/ezhan/OneDrive/Desktop/Node Projects/regist_web/frontend/src/components/FormInput.jsx';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TeacherCreate = () => {\n  _s();\n  const [isInvalid, setValid] = useState(false);\n  const [created, setCreated] = useState(false);\n  const [username, setUsername] = useState([]);\n  const [inputs, setInputs] = useState({\n    \"username\": \"\",\n    \"password\": \"\",\n    \"first_name\": \"\",\n    \"last_name\": \"\"\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        // get full response\n        const res = await axios.get('http://localhost:4000/teachers');\n        // get usernames\n        setUsername(res.data.map(obj => obj.username));\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleChange = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    setInputs(values => ({\n      ...values,\n      [name]: value\n    }));\n  };\n  async function handleSubmit(e) {\n    console.log(\"Inputs:\\n\" + JSON.stringify(inputs));\n    if (username.includes(inputs.username)) {\n      setValid(true);\n    } else {\n      setValid(false);\n      setCreated(true);\n      console.log(\"Submitting!\");\n      try {\n        await axios.post(\"http://localhost:4000/teachers/create\", inputs);\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  }\n  const formInputs = [{\n    id: 1,\n    name: \"first_name\",\n    type: \"text\",\n    placeholder: \"First Name\",\n    errorMessage: \"First name should be 3-16 characters and shouldn't include any special character!\",\n    label: \"First Name\",\n    pattern: \"^[A-Za-z]{3,16}$\",\n    required: true\n  }, {\n    id: 2,\n    name: \"last_name\",\n    type: \"text\",\n    placeholder: \"Last Name\",\n    errorMessage: \"Last name should be 3-16 characters and shouldn't include any special character or numbers!\",\n    label: \"Last Name\",\n    pattern: \"^[A-Za-z]{3,16}$\",\n    required: true\n  }, {\n    id: 3,\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"Username\",\n    label: \"Username\",\n    pattern: \"^[A-Za-z0-9]{3,16}$\",\n    errorMessage: \"Username should be 3-16 characters and shouldn't include any special character!\",\n    required: true\n  }, {\n    id: 4,\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    label: \"Password\",\n    pattern: \"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}\",\n    errorMessage: \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\n    required: true\n  }, {\n    id: 5,\n    name: \"confirmPassword\",\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    errorMessage: \"Passwords don't match!\",\n    label: \"Confirm Password\",\n    pattern: inputs.password,\n    required: true\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"teacherContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Teacher\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [formInputs.map(input => /*#__PURE__*/_jsxDEV(FormInput, {\n        ...input,\n        value: inputs[input.name],\n        onChange: handleChange\n      }, input.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), isInvalid && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Username already used!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 23\n      }, this), created && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"User: \", inputs.username, \" created!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n};\n_s(TeacherCreate, \"v11Z08Js357xYwpskc2xsHViRv8=\");\n_c = TeacherCreate;\nexport default TeacherCreate;\nvar _c;\n$RefreshReg$(_c, \"TeacherCreate\");","map":{"version":3,"names":["React","useState","useEffect","FormInput","axios","jsxDEV","_jsxDEV","TeacherCreate","_s","isInvalid","setValid","created","setCreated","username","setUsername","inputs","setInputs","fetchData","res","get","data","map","obj","error","console","log","response","handleChange","event","name","target","value","values","handleSubmit","e","JSON","stringify","includes","post","err","formInputs","id","type","placeholder","errorMessage","label","pattern","required","password","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","input","onChange","_c","$RefreshReg$"],"sources":["C:/Users/ezhan/OneDrive/Desktop/Node Projects/frontendCopy/my-school/src/pages/adminCreate/teacherCreate/TeacherCreate.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState, useEffect } from 'react';\r\nimport './teacherCreate.css'\r\nimport FormInput from 'C:/Users/ezhan/OneDrive/Desktop/Node Projects/regist_web/frontend/src/components/FormInput.jsx'\r\nimport axios from 'axios';\r\n\r\nconst TeacherCreate = () => {\r\n\r\n  const [isInvalid, setValid] = useState(false);\r\n  const [created, setCreated] = useState(false);\r\n  const [username, setUsername] = useState([]);\r\n  const [inputs, setInputs] = useState({\r\n    \"username\": \"\",\r\n    \"password\": \"\",\r\n    \"first_name\": \"\",\r\n    \"last_name\": \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n  \r\n    const fetchData = async () => {\r\n      try {\r\n        // get full response\r\n        const res = await axios.get('http://localhost:4000/teachers');\r\n        // get usernames\r\n        setUsername(res.data.map(obj => obj.username));\r\n      } catch (error) {\r\n        console.log(error.response.data)\r\n      }\r\n    };\r\n  \r\n    fetchData();\r\n  \r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    const name = event.target.name;\r\n    const value = event.target.value;\r\n    setInputs(values => ({...values, [name]: value}))\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    console.log(\"Inputs:\\n\" + JSON.stringify(inputs));\r\n    if (username.includes(inputs.username)) {\r\n      setValid(true);\r\n    } else {\r\n      setValid(false);\r\n      setCreated(true);\r\n      console.log(\"Submitting!\");\r\n      try {\r\n        await axios.post(\"http://localhost:4000/teachers/create\", inputs);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  const formInputs = [\r\n    {\r\n      id: 1,\r\n      name: \"first_name\",\r\n      type: \"text\",\r\n      placeholder: \"First Name\",\r\n      errorMessage:\r\n        \"First name should be 3-16 characters and shouldn't include any special character!\",\r\n      label: \"First Name\",\r\n      pattern: \"^[A-Za-z]{3,16}$\",\r\n      required: true\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"last_name\",\r\n      type: \"text\",\r\n      placeholder: \"Last Name\",\r\n      errorMessage:\r\n        \"Last name should be 3-16 characters and shouldn't include any special character or numbers!\",\r\n      label: \"Last Name\",\r\n      pattern: \"^[A-Za-z]{3,16}$\",\r\n      required: true\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"username\",\r\n      type: \"text\",\r\n      placeholder: \"Username\",\r\n      label: \"Username\",\r\n      pattern: \"^[A-Za-z0-9]{3,16}$\",\r\n      errorMessage:\r\n        \"Username should be 3-16 characters and shouldn't include any special character!\",\r\n      required: true\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"password\",\r\n      type: \"password\",\r\n      placeholder: \"Password\",\r\n      label: \"Password\",\r\n      pattern: \"^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,20}\",\r\n      errorMessage:\r\n        \"Password should be 8-20 characters and include at least 1 letter, 1 number and 1 special character!\",\r\n      required: true\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"confirmPassword\",\r\n      type: \"password\",\r\n      placeholder: \"Confirm Password\",\r\n      errorMessage: \"Passwords don't match!\",\r\n      label: \"Confirm Password\",\r\n      pattern: inputs.password,\r\n      required: true,\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className='teacherContainer'>\r\n      <p>Teacher</p>\r\n      <form onSubmit={handleSubmit}>\r\n        {formInputs.map((input) => (\r\n          <FormInput\r\n            key={input.id}\r\n            {...input}\r\n            value={inputs[input.name]}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n        <button>Submit</button>\r\n        {isInvalid && <p>Username already used!</p>}\r\n        {created && <p>User: {inputs.username} created!</p>}\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TeacherCreate\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}